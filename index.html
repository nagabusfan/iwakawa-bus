<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å²©å·çœŒäº¤é€š | å…¬å¼ã‚µã‚¤ãƒˆ (Roblox)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- å…¨ä½“ãƒ‡ã‚¶ã‚¤ãƒ³ï¼šèƒŒæ™¯ã‚’è–„ç´«ã«æˆ»ã—ã¾ã—ãŸ --- */
        body {
            font-family: 'Noto Sans JP', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f3f0f9; /* â˜…ç¤¾é•·æŒ‡å®šã®è–„ç´« */
            color: #333;
        }

        /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ --- */
        header {
            background-color: #7e57c2;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .header-left { display: flex; align-items: center; }
        .menu-button {
            background: none; border: 2px solid white; color: white;
            padding: 5px 15px; cursor: pointer; border-radius: 5px; font-weight: bold;
        }
        .logo h1 { margin: 0 0 0 15px; font-size: 20px; letter-spacing: 2px; }
        .time-display { font-size: 14px; font-weight: bold; }

        /* --- ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼šã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œã—ã¤ã¤ã€è‰²ã‚’å…ƒã«æˆ»ã—ã¾ã—ãŸ --- */
        .sidebar {
            position: fixed;
            top: 0;
            left: -280px;
            width: 280px;
            height: 100%;
            background-color: #7e57c2; /* â˜…å…ƒã®ç´«ã«æˆ»ã—ã¾ã—ãŸ */
            color: white;
            transition: 0.3s;
            z-index: 1000;
            padding: 20px;
            box-sizing: border-box;
            max-height: 100vh;
            overflow-y: auto;
        }

        .sidebar.active { left: 0; }
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); display: none; z-index: 999;
        }
        .overlay.active { display: block; }

        /* --- çµŒè·¯ãƒ»é‹è³ƒæ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ --- */
        .search-box {
            background: rgba(255,255,255,0.2); /* å°‘ã—é€æ˜åº¦ã‚’èª¿æ•´ */
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            margin-top: 40px;
        }
        .search-box select {
            width: 100%; padding: 10px; margin-bottom: 10px;
            border-radius: 5px; border: none; font-size: 14px;
        }
        .search-btn {
            width: 100%; background: #2e7d32; color: white; /* æ¤œç´¢ãƒœã‚¿ãƒ³ã¯ç·‘ã§è¦‹ã‚„ã™ã */
            border: none; padding: 12px; border-radius: 5px;
            font-weight: bold; cursor: pointer; font-size: 14px;
        }

        /* æ¤œç´¢çµæœè¡¨ç¤ºã‚«ãƒ¼ãƒ‰ */
        #search-result {
            display: none; margin-top: 15px; padding: 15px;
            background: white; border-radius: 10px; color: #333;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .result-label { font-size: 11px; color: #666; text-align: left; }
        .result-value { font-size: 20px; font-weight: bold; color: #2e7d32; margin-bottom: 10px; text-align: left; }

        .menu-item {
            padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);
            cursor: pointer; font-weight: bold;
        }
        .menu-item:hover { background: rgba(255,255,255,0.2); }

        /* --- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --- */
        .container { max-width: 1000px; margin: 20px auto; padding: 0 15px; }

        /* é‹è¡ŒçŠ¶æ³ãƒ†ãƒ­ãƒƒãƒ— */
        @keyframes scroll-text { from { transform: translateX(0); } to { transform: translateX(-100%); } }

        /* --- ãŠã™ã™ã‚ãƒã‚¬ã‚¸ãƒ³ãƒ»ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ --- */
        .magazine-section { margin-top: 50px; position: relative; }
        .recommend-header { text-align: center; margin-bottom: 30px; }
        .recommend-header h3 {
            font-size: 28px; font-weight: 900; color: #7e57c2; margin: 0;
            position: relative; display: inline-block;
        }

        .slider-container { overflow: hidden; border-radius: 15px; }
        .slider-wrapper { display: flex; transition: transform 0.5s ease-in-out; }
        .article-card {
            min-width: calc(33.333% - 20px); margin: 10px;
            background: white; border-radius: 20px; overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); cursor: pointer;
            transition: 0.3s;
        }
        .article-card:hover { transform: translateY(-10px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .article-img { height: 150px; background: #eee; display: flex; align-items: center; justify-content: center; font-size: 50px; }
        .article-content { padding: 20px; }
        .article-content h4 { margin: 0 0 10px 0; font-size: 18px; color: #7e57c2; }
        .article-content p { font-size: 13px; color: #666; margin: 0; }

        .slider-arrow {
            position: absolute; top: 55%; transform: translateY(-50%);
            background: rgba(255,255,255,0.9); border: none; width: 45px; height: 45px;
            border-radius: 50%; cursor: pointer; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .view-all-container { text-align: center; margin-top: 30px; }
        .view-all-btn {
            display: inline-block; padding: 12px 30px; background: #7e57c2;
            color: white; text-decoration: none; border-radius: 30px; font-weight: bold;
        }

        /* --- ãŠçŸ¥ã‚‰ã›ã‚¨ãƒªã‚¢ --- */
        .news-item { background: white; padding: 15px; margin-bottom: 10px; border-radius: 5px; display: flex; align-items: center; }
        .tag { padding: 2px 8px; border-radius: 3px; color: white; font-size: 11px; font-weight: bold; }

        footer { padding: 40px 0; border-top: 1px solid #ddd; margin-top: 50px; }
    </style>
</head>
<body>

<div class="overlay" id="overlay"></div>

<header>
    <div class="header-left">
        <button class="menu-button" id="menu-btn">â‰¡ MENU</button>
        <div class="logo"><h1>å²©å·çœŒäº¤é€š</h1></div>
    </div>
    <div class="time-display" id="current-time">JST --:--:--</div>
</header>

<div class="sidebar" id="sidebar">
    <div class="search-box">
        <div style="margin-bottom: 8px; font-weight: bold; font-size: 14px;">çµŒè·¯ãƒ»é‹è³ƒæ¤œç´¢</div>
        <select id="start-point">
            <option value="">å‡ºç™ºåœ°ã‚’é¸æŠ</option>
            <option value="horioka-st">å €å²¡é§…</option>
            <option value="yuuhibashi">å¤•æ—¥æ©‹</option>
            <option value="asagasase">æœé¡”ç€¬æ©‹</option>
            <option value="ryohara">ä¸¡åŸ</option>
            <option value="tatezakabashi">å»ºå‚æ©‹</option>
            <option value="yabetate">çŸ¢éƒ¨é¤¨</option>
            <option value="shimodou">ä¸‹å ‚</option>
            <option value="shimodou-2">ä¸‹å ‚äºŒä¸ç›®</option>
            <option value="ujikobashi">å®‡æ²»å­æ©‹</option>
        </select>
        <select id="end-point">
            <option value="">ç›®çš„åœ°ã‚’é¸æŠ</option>
            <option value="horioka-st">å €å²¡é§…</option>
            <option value="yuuhibashi">å¤•æ—¥æ©‹</option>
            <option value="asagasase">æœé¡”ç€¬æ©‹</option>
            <option value="ryohara">ä¸¡åŸ</option>
            <option value="tatezakabashi">å»ºå‚æ©‹</option>
            <option value="yabetate">çŸ¢éƒ¨é¤¨</option>
            <option value="shimodou">ä¸‹å ‚</option>
            <option value="shimodou-2">ä¸‹å ‚äºŒä¸ç›®</option>
            <option value="ujikobashi">å®‡æ²»å­æ©‹</option>
        </select>
        <button class="search-btn" onclick="searchRoute()">æ¤œç´¢ã™ã‚‹</button>

        <div id="search-result">
            <div class="result-label">æ¨å®šé‹è³ƒ</div>
            <div id="res-fare" class="result-value">--- å††</div>
            <div class="result-label">æ¨å®šè·é›¢</div>
            <div id="res-dist" class="result-value">--- km</div>
            <p style="font-size: 10px; color: #999; border-top: 1px solid #eee; padding-top: 5px;">â€»ç«¯æ•°å››æ¨äº”å…¥è¨ˆç®—</p>
        </div>
    </div>
    <div class="menu-item" onclick="location.href='index.html'">â–  HOME</div>
    <div class="menu-item" onclick="alert('æº–å‚™ä¸­')">â–  è·¯ç·šãƒã‚¹</div>
    <div class="menu-item" onclick="location.href='newsfolder/news00003.html'">â–  æ±‚äººæƒ…å ±</div>
    <div class="menu-item" id="close-btn">â–  é–‰ã˜ã‚‹ Ã—</div>
</div>

<div class="container">
    <div style="background: white; border: 2px solid #7e57c2; padding: 10px; margin-bottom: 25px; border-radius: 10px;">
        <h3 style="margin:0 0 5px 0; color:#7e57c2; font-size: 16px;">é‹è¡ŒçŠ¶æ³</h3>
        <div style="background: #eee; overflow: hidden; white-space: nowrap; padding: 5px;">
            <div style="display: inline-block; padding-left: 100%; animation: scroll-text 15s linear infinite; font-weight: bold;">
                ã€å¹³å¸¸é‹è¡Œã€‘ å…¨ç·šã§å¹³å¸¸é€šã‚Šé‹è¡Œä¸­ã€‚ä»Šæ—¥ã‚‚å²©å·çœŒäº¤é€šã‚’ã”åˆ©ç”¨ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
            </div>
        </div>
    </div>

    <h3 style="border-left: 5px solid #7e57c2; padding-left: 10px; color: #7e57c2;">æ–°ç€æƒ…å ±</h3>
    <div id="news-list">èª­ã¿è¾¼ã¿ä¸­...</div>

    <div class="magazine-section">
        <div class="recommend-header"><h3>ãŠã™ã™ã‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</h3></div>
        <button class="slider-arrow" id="prev-btn" style="left: -10px;">â—€</button>
        <button class="slider-arrow" id="next-btn" style="right: -10px;">â–¶</button>
        <div class="slider-container">
            <div class="slider-wrapper" id="slider-wrapper">
                <div class="article-card" onclick="location.href='articles/how-to-ride.html'">
                    <div class="article-img">ğŸšŒ</div>
                    <div class="article-content"><h4>ä¹—ã‚Šæ–¹ã‚¬ã‚¤ãƒ‰</h4><p>å €å²¡é§…ã‹ã‚‰ã®ä¹—è»Šæ‰‹é †ã‚’è©³ã—ãè§£èª¬ï¼</p></div>
                </div>
                <div class="article-card" onclick="location.href='articles/new-bus.html'">
                    <div class="article-img">âœ¨</div>
                    <div class="article-content"><h4>æ–°å‹è»Šä¸¡</h4><p>æœ€æ–°å¤§å‹ãƒã‚¹ã®è¨­å‚™ã‚’ãƒã‚§ãƒƒã‚¯ï¼</p></div>
                </div>
                <div class="article-card" onclick="location.href='articles/trivia.html'">
                    <div class="article-img">ğŸ’¡</div>
                    <div class="article-content"><h4>å°ãƒã‚¿é›†</h4><p>ãƒãƒƒãƒ—ã«éš ã•ã‚ŒãŸç§˜å¯†ã‚’å…¬é–‹ã€‚</p></div>
                </div>
                <div class="article-card" onclick="location.href='articles/safety.html'">
                    <div class="article-img">ğŸ›¡ï¸</div>
                    <div class="article-content"><h4>å®‰å…¨é‹è¡Œ</h4><p>äº‹æ•…ã‚¼ãƒ­ã®ãŸã‚ã®å–ã‚Šçµ„ã¿ã€‚</p></div>
                </div>
                <div class="article-card" onclick="location.href='articles/history.html'">
                    <div class="article-img">ğŸ“‚</div>
                    <div class="article-content"><h4>æ­´å²</h4><p>å²©å·çœŒäº¤é€šã®æ­©ã¿ã‚’æŒ¯ã‚Šè¿”ã‚‹ã€‚</p></div>
                </div>
            </div>
        </div>
        <div class="view-all-container">
            <a href="articles/list.html" class="view-all-btn">ã™ã¹ã¦ã®è¨˜äº‹ã‚’è¡¨ç¤º</a>
        </div>
    </div>
</div>

<footer><p style="text-align:center; color:#999;">&copy; 2026 Iwakawa Prefectural Transport.</p></footer>

<script>
    const distanceData = {
        "horioka-st": 0, "yuuhibashi": 0.3, "asagasase": 0.9, "ryohara": 1.2,
        "tatezakabashi": 1.6, "yabetate": 2.2, "shimodou": 2.8, "shimodou-2": 3.2, "ujikobashi": 3.8
    };

    function searchRoute() {
        const start = document.getElementById('start-point').value;
        const end = document.getElementById('end-point').value;
        const resultBox = document.getElementById('search-result');
        if (!start || !end || start === end) { alert("æ­£ã—ãé¸æŠã—ã¦ãã ã•ã„"); return; }
        const dist = Math.abs(distanceData[end] - distanceData[start]);
        const totalFare = 150 + (Math.round(dist) * 10);
        document.getElementById('res-fare').innerText = totalFare + " å††";
        document.getElementById('res-dist').innerText = dist.toFixed(1) + " km";
        resultBox.style.display = "block";
    }

    let current = 0;
    const wrapper = document.getElementById('slider-wrapper');
    const total = 5; const show = 3;
    document.getElementById('next-btn').onclick = () => {
        current = (current >= total - show) ? 0 : current + 1;
        wrapper.style.transform = `translateX(-${current * (100/show)}%)`;
    };
    document.getElementById('prev-btn').onclick = () => {
        current = (current <= 0) ? total - show : current - 1;
        wrapper.style.transform = `translateX(-${current * (100/show)}%)`;
    };

    function updateTime() {
        const now = new Date();
        const opt = { timeZone: 'Asia/Tokyo', hour12: false, hour: '2-digit', minute: '2-digit', second: '2-digit' };
        document.getElementById('current-time').innerText = "JST " + now.toLocaleTimeString('ja-JP', opt);
    }

    function loadNews() {
        fetch('news.json').then(r => r.json()).then(data => {
            const list = document.getElementById('news-list');
            list.innerHTML = '';
            data.forEach(d => {
                const item = document.createElement('div');
                item.className = 'news-item';
                item.innerHTML = `<span class="tag" style="background:${d.tagColor}">${d.tag}</span><a href="${d.url}" style="margin-left:10px; font-weight:bold; color:#0054a6; text-decoration:none;">${d.title}</a>`;
                list.appendChild(item);
            });
        }).catch(() => document.getElementById('news-list').innerText = "ãŠçŸ¥ã‚‰ã›ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚");
    }

    window.onload = () => {
        const m = document.getElementById('menu-btn'), s = document.getElementById('sidebar'), o = document.getElementById('overlay'), c = document.getElementById('close-btn');
        m.onclick = () => { s.classList.add('active'); o.classList.add('active'); };
        const close = () => { s.classList.remove('active'); o.classList.remove('active'); };
        c.onclick = o.onclick = close;
        setInterval(updateTime, 1000); updateTime(); loadNews();
    };
</script>
</body>
</html>
